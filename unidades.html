<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Unidades de Atendimento ‚Äî Sa√∫de Bucal Japeri</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <link rel="icon" href="brasil-sorridente-logo222.png?v=2" type="image/png">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');
    :root{--bg:#EAF5FF;--panel:#FFFFFF;--line:#DDEAF7;--fg:#0F2740;--muted:#6B87A4;--brand:#0F8BD6;--accent:#1DC56F;--warning:#FFF3B0;--chip:#F3FAFF;--r-sm:8px;--r-md:12px;--r-lg:20px;--shadow:0 8px 24px rgba(16,40,80,0.06);--maxw:1100px;--transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}
    *{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;-webkit-font-smoothing:antialiased;background:linear-gradient(180deg,#fff 0%,var(--bg) 100%);color:var(--fg);padding:12px;transition:var(--transition)}
    .wrap{max-width:var(--maxw);margin:0 auto}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:12px;position:fixed;top:0;left:0;right:0;background:#fff;z-index:80;padding:10px 12px;box-shadow:0 2px 8px rgba(16,40,80,0.08);border-bottom:1px solid var(--line);min-height:60px;transition:none}
    body{padding-top:80px}
    .header-left{display:flex;align-items:center;gap:8px;min-width:0;flex:0 1 auto}
    .logos{display:flex;gap:6px;align-items:center;flex-shrink:0}
    .logo-small{height:38px;width:auto;display:block}
    .site-title{font-weight:800;font-size:14px;line-height:1.2;max-width:calc(100vw - 180px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .muted.small{font-size:11px;color:var(--muted);display:none}@media(min-width:600px){.muted.small{display:block}}
    .nav{display:flex;gap:8px;align-items:center}
    .nav a{padding:8px 10px;border-radius:10px;color:var(--muted);text-decoration:none;font-weight:700}
    .nav a.active{color:var(--brand);background:rgba(15,139,214,0.06);border-radius:10px}
    .menu-btn{background:var(--brand);border:none;padding:8px 12px;border-radius:10px;cursor:pointer;display:flex;gap:5px;align-items:center;transition:var(--transition);flex-shrink:0;color:#fff;font-weight:700;font-size:12px;box-shadow:0 2px 8px rgba(15,139,214,0.2);white-space:nowrap}.menu-btn:hover{background:linear-gradient(135deg,var(--brand),#0a6ba8);transform:translateY(-2px);box-shadow:0 4px 12px rgba(15,139,214,0.3)}.menu-btn:active{transform:translateY(0)}
    .menu-btn .dot{width:5px;height:5px;background:#fff;border-radius:50%}
    .card{background:var(--panel);border-radius:14px;padding:16px;border:1px solid var(--line);box-shadow:var(--shadow);margin-bottom:14px;transition:var(--transition)}.card:hover{box-shadow:0 12px 32px rgba(16,40,80,0.12);border-color:var(--brand)}
    .sectionTitle{font-weight:800;color:var(--muted);margin:12px 0 8px;font-size:14px}
    .notice{margin:12px 0;padding:12px;border-radius:12px;background:linear-gradient(90deg,#f8fbff,#fff);border-left:6px solid var(--brand);color:var(--fg);font-weight:700;transition:var(--transition)}.notice:hover{box-shadow:0 4px 12px rgba(15,139,214,0.12)}
    .footer{display:flex;flex-direction:column;align-items:center;gap:8px;margin:14px 0;color:var(--muted);font-size:13px}
    .footer img{height:36px}
    #drawerOverlay{position:fixed;inset:0;background:rgba(0,0,0,0.32);display:none;z-index:90;opacity:0;transition:opacity 0.26s ease}#drawerOverlay.open{opacity:1}
    .side-drawer{position:fixed;right:0;top:0;height:100vh;width:86%;max-width:320px;background:#fff;box-shadow:-12px 0 30px rgba(0,0,0,0.14);transform:translateX(110%);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1);z-index:100;padding:16px;overflow:auto;border-left:1px solid rgba(15,139,214,0.06)} .side-drawer:not(.open){transform:translateX(110%)}
    .side-drawer.open{transform:translateX(0)}
    .drawer-item{display:block;padding:12px 14px;border-radius:10px;color:var(--fg);font-weight:700;text-decoration:none;transition:var(--transition);font-size:15px}
    .drawer-item:hover{background:#f0f8ff;color:var(--brand);transform:translateX(4px)}
    a:focus,button:focus,select:focus{outline:3px solid rgba(15,139,214,0.12);outline-offset:2px}a,button,select{transition:var(--transition)}
    @media(min-width:600px){.logo-small{height:44px}.topbar{padding:12px 16px;gap:12px}.wrap{padding:12px}}
    @media(min-width:900px){.logo-small{height:56px}.wrap{padding:8px}.menu-btn{display:inline-flex;padding:10px 14px;font-size:13px}.side-drawer{right:16px;width:280px;transform:translateX(20px);border-radius:12px}#drawerOverlay{display:none}.card{margin-bottom:16px}.topbar{padding:12px 20px}}
    .menu-btn:not(:first-of-type){display:none !important} .nav{display:none !important}
    
    /* Estilos espec√≠ficos para a p√°gina de unidades */
    .unidade-card {
      background: white;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 12px rgba(16,40,80,0.08);
      border: 2px solid var(--line);
      transition: all 0.3s ease;
    }
    
    .unidade-card:hover {
      box-shadow: 0 8px 24px rgba(15,139,214,0.15);
      border-color: var(--brand);
      transform: translateY(-2px);
    }
    
    .unidade-titulo {
      font-size: 1.4em;
      font-weight: 800;
      color: var(--brand);
      margin: 0 0 12px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .unidade-endereco {
      font-size: 1.05em;
      color: var(--fg);
      margin: 0 0 16px 0;
      line-height: 1.6;
    }
    
    .unidade-detalhes {
      background: #f8fbff;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 16px;
      border-left: 4px solid var(--brand);
    }
    
    .unidade-detalhes p {
      margin: 6px 0;
      font-size: 0.95em;
      color: var(--muted);
    }
    
    .btn-cadastro {
      display: inline-block;
      padding: 14px 28px;
      border-radius: 12px;
      font-weight: 800;
      font-size: 1em;
      text-decoration: none;
      color: white;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      box-shadow: 0 4px 12px rgba(102,126,234,0.3);
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      text-align: center;
      width: 100%;
    }
    
    .btn-cadastro:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(102,126,234,0.4);
    }
    
    .btn-cadastro:active {
      transform: translateY(0);
    }
    
    .btn-cadastro.fechado {
      background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
      box-shadow: 0 4px 12px rgba(231,76,60,0.3);
      cursor: not-allowed;
      opacity: 0.8;
    }
    
    .btn-cadastro.fechado:hover {
      transform: none;
      box-shadow: 0 4px 12px rgba(231,76,60,0.3);
    }
    
    .ceo-card {
      background: linear-gradient(135deg, #f8fbff 0%, #fff 100%);
      border: 2px solid #1DC56F;
    }
    
    .movel-card {
      background: linear-gradient(135deg, #fffbf0 0%, #fff 100%);
      border: 2px solid #ffc107;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="topbar">
      <div class="header-left">
        <a href="index.html" class="logos" style="text-decoration:none; cursor:pointer;" title="Voltar para o In√≠cio">
          <img src="japeri-logo.png" alt="Japeri" class="logo-small">
          <img src="brasil-sorridente-logo.png" alt="Brasil Sorridente" class="logo-small">
        </a>
      </div>
      <button id="drawerToggle" class="menu-btn" aria-label="Abrir menu" title="Abrir menu">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        <span style="font-size:12px">Menu</span>
      </button>
    </header>

    <main>
      <section class="card">
        <h1 style="font-size: 2em; margin-bottom: 10px; color: var(--brand);">üìç Endere√ßos das Equipes de Sa√∫de Bucal</h1>
        <p style="color: var(--muted); font-size: 1.1em; line-height: 1.6;">
          Confira abaixo os endere√ßos de todas as unidades de atendimento odontol√≥gico em Japeri. 
          Clique no bot√£o para fazer seu cadastro na unidade desejada.
        </p>
      </section>
      
      <!-- Card de Avalia√ß√£o -->
      <section class="highlight-card" onclick="abrirModalAvaliacao()" style="background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border: 2px solid #1DC56F; box-shadow: 0 4px 16px rgba(29, 197, 111, 0.3); cursor: pointer; margin-bottom: 20px;" aria-labelledby="avaliacaoTitle">
        <h3 id="avaliacaoTitle" style="color: #2e7d32; display: flex; align-items: center; gap: 10px;">
          <span style="font-size: 28px;">‚≠ê</span>
          J√° foi atendido?
        </h3>
        <p class="lead" style="color: #1b5e20; font-size: 15px;">
          <strong>Sua opini√£o √© muito importante!</strong> Avalie seu atendimento e nos ajude a melhorar nossos servi√ßos. Leva apenas 2 minutos! <strong>Clique aqui para avaliar!</strong>
        </p>
      </section>

      <!-- Equipe Alecrim -->
      <div class="unidade-card">
        <h2 class="unidade-titulo">üè• Equipe Alecrim</h2>
        <p class="unidade-endereco">üìç Rua Maria Alice, 532 ‚Äì Alecrim</p>
        <a href="cadastro.html?unidade=Alecrim" class="btn-cadastro" data-unidade="Alecrim">
          üìã Fa√ßa o Cadastro Nesta Unidade
        </a>
      </div>

      <!-- Equipe CEMES Japeri -->
      <div class="unidade-card">
        <h2 class="unidade-titulo">üè• Equipe CEMES Japeri</h2>
        <p class="unidade-endereco">üìç Av. Dr. Arruda Negreiros, 48 ‚Äì Centro</p>
         <a href="cadastro.html?unidade=Alecrim" class="btn-cadastro" data-unidade="CEMES Japeri">
          üìã Fa√ßa o Cadastro Nesta Unidade
         </a>
      </div>

      <!-- Equipe Chacrinha -->
      <div class="unidade-card">
        <h2 class="unidade-titulo">üè• Equipe Chacrinha</h2>
        <p class="unidade-endereco">üìç Rua Jo√£o Salgado dos Santos, s/n ‚Äì Chacrinha</p>
        <a href="cadastro.html?unidade=Chacrinha" class="btn-cadastro" data-unidade="Chacrinha">
          üìã Fa√ßa o Cadastro Nesta Unidade
        </a>
      </div>

      <!-- Equipe Marab√° -->
      <div class="unidade-card">
        <h2 class="unidade-titulo">üè• Equipe Marab√°</h2>
        <p class="unidade-endereco">üìç Avenida Tancredo Neves, 2342 ‚Äì Parque Guandu</p>
        <a href="cadastro.html?unidade=Marab%C3%A1" class="btn-cadastro" data-unidade="Marab√°">
          üìã Fa√ßa o Cadastro Nesta Unidade
        </a>
      </div>

      <!-- Equipe Vila Central -->
      <div class="unidade-card">
        <h2 class="unidade-titulo">üè• Equipe Vila Central</h2>
        <p class="unidade-endereco">üìç Rua Clair Antunes, s/n ‚Äì Vila Central</p>
        <a href="cadastro.html?unidade=Vila%20Central" class="btn-cadastro" data-unidade="Vila Central">
          üìã Fa√ßa o Cadastro Nesta Unidade
        </a>
      </div>

      <!-- Centro de Especialidades Odontol√≥gicas -->
      <div class="unidade-card ceo-card">
        <h2 class="unidade-titulo">‚≠ê Centro de Especialidades Odontol√≥gicas de Japeri</h2>
        <div class="unidade-detalhes">
          <p><strong>Localiza√ß√£o:</strong> CEMES Engenheiro Pedreira (posto do Mucaj√°)</p>
          <p><strong>Endere√ßo:</strong> Avenida Tancredo Neves, s/n - Parque Mucaj√°, Japeri - RJ, 26420-243</p>
        </div>
        <p class="unidade-endereco">üìç Para atendimento nesta unidade, √© necess√°rio encaminhamento da equipe de Sa√∫de Bucal (eSB)</p>
      </div>

      <!-- Unidade Odontol√≥gica M√≥vel -->
      <div class="unidade-card movel-card">
        <h2 class="unidade-titulo">üöê Unidade Odontol√≥gica M√≥vel</h2>
        <div class="unidade-detalhes">
          <p><strong>Bairros em atendimento:</strong></p>
          <p>‚Ä¢ <strong>Rio D'Ouro:</strong> em frente √† unidade de Sa√∫de da Fam√≠lia do Rio D'Ouro</p>
          <p>‚Ä¢ <strong>Laranjal:</strong> ao lado da escola</p>
          <p>‚Ä¢ <strong>Pedra Lisa:</strong> ao lado da escola</p>
          <p>‚Ä¢ <strong>Marajoara:</strong> na rua da Granado</p>
          <p>‚Ä¢ <strong>Beira Rio:</strong> ao lado da escola</p>
        </div>
        <a href="cadastro.html?unidade=Unidade%20Odontol%C3%B3gica%20m%C3%B3vel" class="btn-cadastro" data-unidade="Unidade Odontol√≥gica m√≥vel">
          üìã Fa√ßa o Cadastro Nesta Unidade
        </a>
      </div>

      <div class="notice" style="margin-top: 30px;">
        üí° <strong>Dica:</strong> Escolha a unidade mais pr√≥xima de voc√™ para facilitar o atendimento. Os bot√µes mudam de cor automaticamente: <strong style="color:#667eea">roxo quando os cadastros est√£o abertos</strong> e <strong style="color:#e74c3c">vermelho quando est√£o fechados</strong>.
      </div>
    </main>

    <footer class="footer">
      <img src="japeri-logo.png" alt="Japeri">
      <div class="muted">Prefeitura de Japeri ‚Äî Sa√∫de Bucal</div>
    </footer>
  </div>

  <div id="drawerOverlay" aria-hidden="true"></div>
  <aside id="sideDrawer" class="side-drawer" aria-hidden="true" role="dialog" aria-label="Op√ß√µes do site">
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:12px">
      <strong>Op√ß√µes</strong>
      <button id="drawerClose" style="margin-left:auto;padding:6px;border-radius:8px;border:1px solid var(--line);background:#fff;cursor:pointer">Fechar</button>
    </div>
    <nav>
      <a class="drawer-item" href="index.html">In√≠cio</a>
      <a class="drawer-item" href="avisos.html">Avisos</a>
      <a class="drawer-item" href="painel.html">Fila</a>
      <a class="drawer-item" href="consulta-fila.html">üîç Consultar Fila</a>
      <a class="drawer-item" id="menuCadastro" href="cadastro.html" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-weight: 800;">üìã Cadastro na Fila</a>
      <a class="drawer-item" href="cadastro.html" style="background: linear-gradient(135deg, #ff6b9d 0%, #c41e3a 100%); color: white; font-weight: 800;">ü§∞ Gestantes: Cadastro e Cartilha</a>
      <a class="drawer-item" href="fluxograma.html">üìä Fluxograma</a>
      <a class="drawer-item" href="unidades.html">üìç Unidades</a>
      <a class="drawer-item" href="#" onclick="event.preventDefault(); mostrarDuvidasDocumentos(); document.getElementById('sideDrawer').classList.remove('open'); document.getElementById('drawerOverlay').classList.remove('show');">üìÑ D√∫vidas sobre Documentos</a>
      <a class="drawer-item" href="mailto:odontologiajaperi@gmail.com">Contato (e-mail)</a>
    </nav>
  </aside>

  <!-- drawer script -->
  <script>
    (function(){
      const toggleSelectors = ['#drawerToggle', '.menu-btn', '.drawer-toggle', '.hamburger'];
      const toggles = Array.from(new Set(toggleSelectors.flatMap(s => Array.from(document.querySelectorAll(s)))));
      const drawer = document.getElementById('sideDrawer') || document.querySelector('.side-drawer');
      let overlay = document.getElementById('drawerOverlay') || document.querySelector('.drawer-overlay');
      if(!overlay){
        overlay = document.createElement('div'); overlay.id = 'drawerOverlay'; overlay.style.position='fixed'; overlay.style.inset='0'; overlay.style.background='rgba(0,0,0,0.32)'; overlay.style.display='none'; overlay.style.zIndex='90'; document.body.appendChild(overlay);
      }
      const internalClose = Array.from(document.querySelectorAll('#drawerClose, [data-drawer-close], .drawer-close-btn'));
      if(!drawer || toggles.length === 0) return;
      drawer.setAttribute('role', drawer.getAttribute('role') || 'dialog');
      drawer.setAttribute('aria-hidden', drawer.classList.contains('open') ? 'false' : 'true');
      function setExpanded(exp){ toggles.forEach(t => { try{ t.setAttribute('aria-expanded', exp ? 'true' : 'false'); }catch(e){} }); }
      function openDrawer(){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); overlay.style.display='block'; overlay.setAttribute('aria-hidden','false'); document.documentElement.style.overflow='hidden'; document.body.style.overflow='hidden'; setExpanded(true); setTimeout(()=>{ const first = drawer.querySelector('a,button,[tabindex]:not([tabindex="-1"])'); if(first) first.focus(); },220); }
      function closeDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); overlay.style.display='none'; overlay.setAttribute('aria-hidden','true'); document.documentElement.style.overflow=''; document.body.style.overflow=''; setExpanded(false); }
      toggles.forEach(t=>{ if(t._drawerBound) return; t._drawerBound=true; t.style.cursor='pointer'; t.addEventListener('click', e=>{ e.stopPropagation(); if(drawer.classList.contains('open')) closeDrawer(); else openDrawer(); }); });
      overlay.addEventListener('click', ()=>{ closeDrawer(); });
      internalClose.forEach(b=>{ if(b._drawerBoundClose) return; b._drawerBoundClose=true; b.addEventListener('click', e=>{ e.stopPropagation(); closeDrawer(); }); });
      drawer.addEventListener('click', function(e){ const item = e.target.closest('.drawer-item, [data-drawer-item], a, button'); if(!item) return; setTimeout(()=> closeDrawer(), 120); });
      document.addEventListener('keydown', function(ev){ if(ev.key === 'Escape' && drawer.classList.contains('open')) closeDrawer(); });
      document.addEventListener('click', function(e){ if(!drawer.classList.contains('open')) return; if(e.target.closest('#sideDrawer') || toggles.some(t => t.contains(e.target) || t === e.target)) return; closeDrawer(); });
      const hideOtherOverlays = ()=> { Array.from(document.querySelectorAll('.drawer-overlay, #drawerOverlay')).forEach(o=>{ if(o !== overlay) o.style.display = 'none'; }); };
      const mo = new MutationObserver(()=>{ hideOtherOverlays(); setExpanded(drawer.classList.contains('open')); });
      mo.observe(drawer, { attributes:true, attributeFilter:['class'] });
    })();
  </script>

  <!-- Script para mudar cor dos bot√µes e menu baseado no status dos cadastros -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    (async function(){
      const SUPABASE_URL = 'https://uakhmgoxgyklggsvtwdf.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVha2htZ294Z3lrbGdnc3Z0d2RmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1OTE0NzcsImV4cCI6MjA3OTk1MTQ3N30.6iCUHePtVlmq8De9oBl4Zw5CBU4Zai7P3xLpi7cYkDo';
      const { createClient } = supabase;
      const supabaseClient = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
      
      try {
        const { data, error } = await supabaseClient
          .from('configuracoes')
          .select('*')
          .in('chave', ['cadastros_abertos']);
        
        if (error) throw error;
        
        const statusConfig = data.find(c => c.chave === 'cadastros_abertos');
        const aberto = statusConfig?.valor === 'true';
        
        // Mudar cor do item do menu
        const menuCadastro = document.getElementById('menuCadastro');
        if (menuCadastro) {
          if (aberto) {
            menuCadastro.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
          } else {
            menuCadastro.style.background = 'linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)';
          }
        }
        
        // Mudar cor de todos os bot√µes de cadastro
        const botoesCadastro = document.querySelectorAll('.btn-cadastro');
        botoesCadastro.forEach(btn => {
          if (!aberto) {
            // Cadastros fechados - vermelho e desabilitar
            btn.classList.add('fechado');
            btn.style.background = 'linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)';
            btn.style.boxShadow = '0 4px 12px rgba(231,76,60,0.3)';
            btn.textContent = '‚ùå Cadastros Temporariamente Fechados';
            btn.onclick = function(e) {
              e.preventDefault();
              alert('Os cadastros est√£o temporariamente fechados. Aguarde a reabertura.');
              return false;
            };
          } else {
            // Cadastros abertos - roxo
            btn.classList.remove('fechado');
            btn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            btn.style.boxShadow = '0 4px 12px rgba(102,126,234,0.3)';
          }
        });
        
      } catch (error) {
        console.error('Erro ao verificar status dos cadastros:', error);
      }
    })();
  </script>

  <script src="modal-documentos.js?v=2"></script>
  <!-- Componente de Avalia√ß√£o -->
  <script>
    // Incluir componente de avalia√ß√£o
    fetch("avaliacao-component.html")
      .then(response => response.text())
      .then(html => {
        const div = document.createElement("div");
        div.innerHTML = html;
        document.body.appendChild(div);
        // Esconder bot√£o flutuante (s√≥ mostrar o card)
        const floatBtn = document.getElementById("avaliacaoFloatBtn");
        if (floatBtn) floatBtn.style.display = "none";
      });
  </script>
</body>
</html>
