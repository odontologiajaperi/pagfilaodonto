<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Painel â€” SaÃºde Bucal Japeri</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light">
  <link rel="icon" type="image/png" sizes="32x32" href="brasil-sorridente-logo222.png?v=2">
  <link rel="apple-touch-icon" href="brasil-sorridente-logo222.png?v=2">
  <meta name="theme-color" content="#0F8BD6">

  <!-- estilos separados -->
  <link rel="stylesheet" href="styles.css">

</head>
<body>
  <div class="wrap">

    <!-- HEADER + NAV -->
    <header class="site-header">
      <div class="header-left">
        <div class="logos">
          <img src="japeri-logo.png" alt="Prefeitura de Japeri" class="logo-small">
          <img src="brasil-sorridente-logo.png" alt="Brasil Sorridente" class="logo-small">
        </div>
        <h1 class="site-title">SaÃºde Bucal â€” Painel de Acompanhamento</h1>
      </div>

      <nav class="top-nav" aria-label="NavegaÃ§Ã£o principal">
        <button class="tabbtn active" data-view="home">InÃ­cio</button>
        <button class="tabbtn" data-view="avisos">Avisos</button>
        <button class="tabbtn" data-view="painel">Painel</button>
      </nav>

      <!-- three-dots menu -->
      <div class="menu-wrap">
        <button id="menuToggle" class="menu-btn" aria-haspopup="true" aria-expanded="false" title="OpÃ§Ãµes">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </button>
        <div id="menuPanel" class="menu-panel" role="menu" aria-hidden="true">
          <button class="menu-item" data-action="goto" data-target="home">Ir para InÃ­cio</button>
          <button class="menu-item" data-action="goto" data-target="avisos">Ir para Avisos</button>
          <button class="menu-item" data-action="goto" data-target="painel">Ir para Painel</button>
          <hr>
          <a class="menu-item" href="data.json" download="data.json">Baixar data.json</a>
          <button class="menu-item" id="refreshData">Atualizar dados</button>
        </div>
      </div>
    </header>

    <main>
      <!-- HOME -->
      <section id="home" class="view active">
        <div class="hero-card">
          <div class="hero-content">
            <h2>Bem vindo ao Painel de SaÃºde Bucal</h2>
            <p class="lead">Acompanhe o total de pacientes em espera e os agendamentos. Em breve serÃ¡ possÃ­vel entrar na fila pelo site.</p>
            <div class="hero-quick">
              <div>
                <strong id="homeGeral">â€”</strong>
                <div class="muted">Em espera â€” acumulado geral</div>
              </div>
              <div>
                <strong id="homeAg">â€”</strong>
                <div class="muted">Agendados (total)</div>
              </div>
            </div>
          </div>
          <div class="hero-illustration">
            <img src="brasil-sorridente-logo.png" alt="" aria-hidden="true">
          </div>
        </div>

        <section class="cards-row">
          <div class="card">
            <h3>Resumo rÃ¡pido</h3>
            <p class="muted">Filtrar por posto no painel para ver detalhes por unidade.</p>
            <ul class="short-list" id="homeResumo"></ul>
          </div>

          <div class="card">
            <h3>Sobre</h3>
            <p class="muted">Este painel Ã© usado para controle interno da SaÃºde Bucal â€” Prefeitura de Japeri.</p>
            <p class="muted small">Quer saber sua posiÃ§Ã£o exata? Entre em contato: <a href="mailto:odontologiajaperi@gmail.com">odontologiajaperi@gmail.com</a></p>
          </div>
        </section>
      </section>

      <!-- AVISOS -->
      <section id="avisos" class="view">
        <div class="card">
          <h2>Avisos e comunicados</h2>
          <p class="muted">Coloque aqui comunicados pÃºblicos (manutenÃ§Ãµes, feriados, campanhas etc.).</p>

          <div id="avisosList" class="avisos-list">
            <!-- preenchido por JS; placeholders: -->
            <div class="aviso">
              <div class="aviso-title">Nenhum aviso cadastrado</div>
              <div class="muted">Use essa Ã¡rea futuramente para publicar comunicados.</div>
            </div>
          </div>
        </div>
      </section>

      <!-- PAINEL (conteÃºdo principal que vocÃª jÃ¡ tinha) -->
      <section id="painel" class="view">
        <div class="panel card">
          <div class="top-metrics grid-2" aria-hidden="false">
            <div class="bigcard">
              <div class="bigcard-title">ğŸŸ¦ Em espera â€” Total</div>
              <div id="geralAcumFila" class="big-number big1">â€”</div>
              <div class="bigcard-foot">Soma de todos os postos em todos os meses registrados.</div>
            </div>
            <div class="bigcard">
              <div class="bigcard-title">ğŸ“… Agendados â€” Total</div>
              <div id="agTotal" class="big-number big2">â€”</div>
              <div class="bigcard-foot">Total de pacientes com agendamento.</div>
            </div>
          </div>

          <div class="notice">
            ğŸ“© Quer saber sua posiÃ§Ã£o exata na fila? Fale com nossa equipe pelo e-mail
            <a href="mailto:odontologiajaperi@gmail.com">odontologiajaperi@gmail.com</a>.
          </div>

          <div class="toolbar grid-3">
            <div>
              <label for="postoSelect">Posto</label>
              <div class="select-wrap"><select id="postoSelect"></select></div>
            </div>
            <div>
              <label for="mesSelect">MÃªs</label>
              <div class="select-wrap"><select id="mesSelect"></select></div>
            </div>
            <div class="align-end">
              <button id="refreshBtn" class="btn">Recarregar</button>
            </div>
          </div>

          <div class="chips">
            <div class="chip" id="pillPosto">Posto: â€”</div>
            <div class="chip" id="pillMes">MÃªs: â€”</div>
            <div class="chip" id="pillStamp">Atualizado: â€”</div>
          </div>

          <div class="sectionTitle">Totais conforme o filtro</div>
          <div class="grid-2">
            <div class="card small">
              <div class="label">ğŸ•’ Em espera â€” mÃªs selecionado do posto</div>
              <div id="filaMes" class="value">â€”</div>
              <div id="filaMesObs" class="sub"></div>
            </div>
            <div class="card small">
              <div class="label">ğŸ¥ Em espera â€” Total do posto</div>
              <div id="postoAcumFila" class="value">â€”</div>
              <div id="postoAcumFilaObs" class="sub"></div>
            </div>
          </div>

          <div class="sectionTitle">Resumo por posto (soma de todos os meses)</div>
          <div id="postoResumo" class="list"></div>

          <div id="error" class="error"></div>
        </div>
      </section>

    </main>

    <footer class="site-footer">
      <img src="japeri-logo.png" alt="Prefeitura de Japeri">
      <div class="muted">Painel interno de acompanhamento da SaÃºde Bucal â€” Prefeitura de Japeri</div>
    </footer>

  </div>

  <!-- script separado -->
  <script src="app.js"></script>
</body>
</html>
